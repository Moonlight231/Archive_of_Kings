{% extends 'base.html'%}

{% block content %}


{%for message in get_flashed_messages()%}

  <div class="alert alert-success alert-dismissible fade show" role="alert">
    {{message}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>

  
{%endfor%}

{% if id == current_user.id%}

    <h1>Update Profile:</h1>
    <br />
    <br /><br />

    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
        <form action= "/update/{{name_to_update.id}}"method="POST" enctype="multipart/form-data">

        {{ form.hidden_tag() }}

        {{ form.name.label(class="form-label")}}

        {{form.name(class="form-control", value=name_to_update.name)}}
        <br />

        {{ form.username.label(class="form-label")}}

        {{form.username(class="form-control", value=name_to_update.username)}}
        <br />

        {{ form.email.label(class="form-label")}}
        
        {{form.email(class="form-control",value=name_to_update.email)}}
        <br />
        
        {{ form.program.label(class="form-label")}}

        {{form.program(class="form-control", value=name_to_update.program)}}
        <br />

        {{ form.bio.label(class="form-label")}}

        <textarea name="bio" class="form-control">{{name_to_update.bio}}</textarea>

        <br />

        {{ form.profile_pic.label(class="form-label")}}

        {{form.profile_pic(class="form-control", value=name_to_update.profile_pic)}}
        <br />


        {{ form.submit(class="btn btn-warning")}}

        <a href="{{url_for('delete', id=id)}}" class="btn btn-danger">Delete</a>

        </form>
        </div>

    <br/><br/><br/>

{%else%}

<div class="alert alert-danger alert-dismissible fade show" role="alert">
    Sorry, You can't edit this profile!
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  <h2>Access Denied!</h2>
  <p>Hey! Keep your filthy hands to yourself.</p>

{%endif%}




{% endblock %}